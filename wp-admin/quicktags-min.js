function edButton(e,t,n,d,s,o){this.id=e,this.display=t,this.tagStart=n,this.tagEnd=d,this.access=s,this.open=o}function edLink(){this.display="",this.URL="",this.newWin=0}function edShowButton(e,t){"ed_img"==e.id?document.write('<input type="button" id="'+e.id+'" accesskey="'+e.access+'" class="ed_button" onclick="edInsertImage(edCanvas);" value="'+e.display+'" />'):"ed_link"==e.id?document.write('<input type="button" id="'+e.id+'" accesskey="'+e.access+'" class="ed_button" onclick="edInsertLink(edCanvas, '+t+');" value="'+e.display+'" />'):document.write('<input type="button" id="'+e.id+'" accesskey="'+e.access+'" class="ed_button" onclick="edInsertTag(edCanvas, '+t+');" value="'+e.display+'"  />')}function edShowLinks(){var e='<select onchange="edQuickLink(this.options[this.selectedIndex].value, this);"><option value="-1" selected>(Quick Links)</option>';for(i=0;i<edLinks.length;i++)e+='<option value="'+i+'">'+edLinks[i].display+"</option>";e+="</select>",document.write(e)}function edAddTag(e){""!=edButtons[e].tagEnd&&(edOpenTags[edOpenTags.length]=e,document.getElementById(edButtons[e].id).value="/"+document.getElementById(edButtons[e].id).value)}function edRemoveTag(e){for(i=0;i<edOpenTags.length;i++)edOpenTags[i]==e&&(edOpenTags.splice(i,1),document.getElementById(edButtons[e].id).value=document.getElementById(edButtons[e].id).value.replace("/",""))}function edCheckOpenTags(e){var t=0;for(i=0;i<edOpenTags.length;i++)edOpenTags[i]==e&&t++;return t>0}function edCloseAllTags(){var e=edOpenTags.length;for(o=0;o<e;o++)edInsertTag(edCanvas,edOpenTags[edOpenTags.length-1])}function edQuickLink(e,t){if(e>-1){var n="";1==edLinks[e].newWin&&(n=' target="_blank"');var d='<a href="'+edLinks[e].URL+'"'+n+">"+edLinks[e].display+"</a>";t.selectedIndex=0,edInsertContent(edCanvas,d)}else t.selectedIndex=0}function edSpell(e){var t="";if(document.selection){e.focus();var n=document.selection.createRange();n.text.length>0&&(t=n.text)}else if(e.selectionStart||"0"==e.selectionStart){var d=e.selectionStart,s=e.selectionEnd;d!=s&&(t=e.value.substring(d,s))}""==t&&(t=prompt("Enter a word to look up:","")),""!=t&&window.open("http://dictionary.reference.com/search?q="+escape(t))}function edToolbar(){for(document.write('<div id="ed_toolbar">'),i=0;i<edButtons.length;i++)edShowButton(edButtons[i],i);document.write('<input type="button" id="ed_spell" class="ed_button" onclick="edSpell(edCanvas);" title="Dictionary lookup" value="Dict." />'),document.write('<input type="button" id="ed_close" class="ed_button" onclick="edCloseAllTags();" title="Close all open tags" value="Close Tags" />'),document.write("</div>")}function edInsertTag(e,t){if(document.selection)e.focus(),sel=document.selection.createRange(),sel.text.length>0?sel.text=edButtons[t].tagStart+sel.text+edButtons[t].tagEnd:edCheckOpenTags(t)&&""!=edButtons[t].tagEnd?(sel.text=edButtons[t].tagEnd,edRemoveTag(t)):(sel.text=edButtons[t].tagStart,edAddTag(t)),e.focus();else if(e.selectionStart||"0"==e.selectionStart){var n=e.selectionStart,d=e.selectionEnd,s=d;n!=d?(e.value=e.value.substring(0,n)+edButtons[t].tagStart+e.value.substring(n,d)+edButtons[t].tagEnd+e.value.substring(d,e.value.length),s+=edButtons[t].tagStart.length+edButtons[t].tagEnd.length):edCheckOpenTags(t)&&""!=edButtons[t].tagEnd?(e.value=e.value.substring(0,n)+edButtons[t].tagEnd+e.value.substring(d,e.value.length),edRemoveTag(t),s=n+edButtons[t].tagEnd.length):(e.value=e.value.substring(0,n)+edButtons[t].tagStart+e.value.substring(d,e.value.length),edAddTag(t),s=n+edButtons[t].tagStart.length),e.focus(),e.selectionStart=s,e.selectionEnd=s}else edCheckOpenTags(t)&&""!=edButtons[t].tagEnd?(e.value+=edButtons[t].tagEnd,edRemoveTag(t)):(e.value+=edButtons[t].tagStart,edAddTag(t)),e.focus()}function edInsertContent(e,t){if(document.selection)e.focus(),sel=document.selection.createRange(),sel.text=t,e.focus();else if(e.selectionStart||"0"==e.selectionStart){var n=e.selectionStart,d=e.selectionEnd;e.value=e.value.substring(0,n)+t+e.value.substring(d,e.value.length),e.focus(),e.selectionStart=n+t.length,e.selectionEnd=n+t.length}else e.value+=t,e.focus()}function edInsertLink(e,t,n){if(n||(n="http://"),edCheckOpenTags(t))edInsertTag(e,t);else{var d=prompt("Enter the URL",n);d&&(edButtons[t].tagStart='<a href="'+d+'">',edInsertTag(e,t))}}function edInsertImage(e){var t=prompt("Enter the URL of the image","http://");t&&(t='<img src="'+t+'" alt="'+prompt("Enter a description of the image","")+'" />',edInsertContent(e,t))}var edButtons=new Array,edLinks=new Array,edOpenTags=new Array,now=new Date,datetime=now.getFullYear()+"-"+now.getMonth()+"-"+now.getDate()+"T"+now.getHours()+":"+now.getMinutes()+":"+now.getSeconds()+"-"+now.getTimezoneOffset()/60+":00";edButtons[edButtons.length]=new edButton("ed_strong","str","<strong>","</strong>","b"),edButtons[edButtons.length]=new edButton("ed_em","em","<em>","</em>","i"),edButtons[edButtons.length]=new edButton("ed_link","link","","</a>","a"),edButtons[edButtons.length]=new edButton("ed_block","b-quote","<blockquote>","</blockquote>","q"),edButtons[edButtons.length]=new edButton("ed_del","del","<del>","</del>","d"),edButtons[edButtons.length]=new edButton("ed_ins","ins",'<ins datetime="'+datetime+'">',"</ins>","d"),edButtons[edButtons.length]=new edButton("ed_img","img","","","m",-1),edButtons[edButtons.length]=new edButton("ed_ul","ul","<ul>\n","</ul>\n\n","u"),edButtons[edButtons.length]=new edButton("ed_ol","ol","<ol>\n","</ol>\n\n","o"),edButtons[edButtons.length]=new edButton("ed_li","li","\t<li>","</li>\n","l"),edButtons[edButtons.length]=new edButton("ed_pre","code","<code>","</code>"),edButtons[edButtons.length]=new edButton("ed_more","more","<!--more-->","","t",-1),edButtons[edButtons.length]=new edButton("ed_next","page","<!--nextpage-->","","p",-1),edLinks[edLinks.length]=new edLink("WordPress","http://wordpress.org/"),edLinks[edLinks.length]=new edLink("alexking.org","http://www.alexking.org/");